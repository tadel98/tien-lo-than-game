import{_ as S}from"./Bm7vLDfF.js";import{_ as w}from"./D1ZCJ6tb.js";import{u as $}from"./C5bvPZRB.js";import{r as P,g as h,j as k,c,o as d,a as t,b as f,w as v,d as V,n as l,F as T,m as N,p as _,t as s,k as R,x as H,y as A}from"#entry";import{u as B}from"./CWJf_NK_.js";import{u as D}from"./C9N9uCYs.js";import{u as z}from"./BDlaglx3.js";const F={class:"bg-gray-900/50 backdrop-blur-sm rounded-xl border border-purple-500/20 p-6"},M={class:"flex items-center justify-between mb-4"},q={key:0,class:"text-center py-4"},W={key:1,class:"text-center py-4 text-gray-400"},X={key:2,class:"space-y-3"},E={class:"flex items-center space-x-3"},K={class:"font-medium text-white"},Q={class:"text-xs text-gray-400"},G={class:"text-right"},J={class:"text-sm font-bold text-yellow-400"},O={__name:"RankingWidget",setup(C){const n=$(),a=P(!1),u=h(()=>n.topPlayers),g=r=>r===1?"👑":r===2?"🥈":r===3?"🥉":r,m=r=>r?new Intl.NumberFormat("vi-VN").format(r):"0",x=async()=>{a.value=!0;try{await n.fetchRanking("level",3)}finally{a.value=!1}};return k(()=>{x()}),(r,i)=>{const b=w;return d(),c("div",F,[t("div",M,[i[1]||(i[1]=t("h3",{class:"text-lg font-bold text-white flex items-center"}," 🏆 Top 3 Người Chơi ",-1)),f(b,{to:"/ranking",class:"text-sm text-purple-400 hover:text-purple-300 transition-colors"},{default:v(()=>[...i[0]||(i[0]=[V(" Xem tất cả → ",-1)])]),_:1})]),a.value?(d(),c("div",q,[...i[2]||(i[2]=[t("div",{class:"animate-spin w-6 h-6 border-2 border-purple-500 border-t-transparent rounded-full mx-auto"},null,-1)])])):l(u).length===0?(d(),c("div",W," Chưa có dữ liệu ")):(d(),c("div",X,[(d(!0),c(T,null,N(l(u).slice(0,3),(o,e)=>(d(),c("div",{key:o.id,class:_(["flex items-center justify-between p-3 rounded-lg transition-colors",e===0?"bg-gradient-to-r from-yellow-600/20 to-orange-600/20 border border-yellow-500/30":e===1?"bg-gradient-to-r from-gray-600/20 to-gray-700/20 border border-gray-500/30":"bg-gradient-to-r from-orange-600/20 to-red-600/20 border border-orange-500/30"])},[t("div",E,[t("div",{class:_(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold",e===0?"bg-gradient-to-br from-yellow-400 to-orange-500 text-black":e===1?"bg-gradient-to-br from-gray-400 to-gray-600 text-white":"bg-gradient-to-br from-orange-600 to-red-600 text-white"])},s(g(e+1)),3),t("div",null,[t("div",K,s(o.name),1),t("div",Q,"Cấp "+s(o.level),1)])]),t("div",G,[t("div",J,s(m(o.combatPower)),1),i[3]||(i[3]=t("div",{class:"text-xs text-gray-400"},"SMCĐ",-1))])],2))),128))]))])}}},U={key:0,class:"min-h-screen"},Y={key:1,class:"min-h-screen text-white"},Z={class:"bg-game-gray/80 backdrop-blur-sm border-b border-white/10"},I={class:"container mx-auto px-4 py-3"},tt={class:"flex items-center justify-between"},et={class:"flex items-center space-x-4"},st={class:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-purple-600 flex items-center justify-center"},ot={class:"text-lg font-bold"},nt={class:"text-lg font-semibold"},at={class:"text-sm text-game-text-secondary"},rt={class:"flex items-center space-x-6"},it={class:"text-center"},lt={class:"text-lg font-semibold text-yellow-400"},ct={class:"text-center"},dt={class:"text-lg font-semibold text-blue-400"},ut={class:"text-center"},mt={class:"text-lg font-semibold text-green-400"},xt={class:"bg-game-gray/60 backdrop-blur-sm border-b border-white/10"},gt={class:"container mx-auto px-4 py-2"},pt={class:"grid grid-cols-7 gap-4"},ht=["onClick"],ft={class:"w-12 h-12 rounded-full bg-game-light flex items-center justify-center mb-2"},bt={class:"text-2xl"},vt={class:"text-xs text-center"},_t={class:"container mx-auto px-4 py-8"},yt={class:"text-center mb-8"},wt={class:"max-w-6xl mx-auto"},kt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Tt={class:"flex items-center space-x-4"},Nt={class:"flex-1"},Ct={class:"flex items-center space-x-4 text-sm"},Lt={class:"text-yellow-400"},jt={class:"text-purple-400"},St={class:"flex items-center space-x-4"},$t={class:"flex-1"},Pt={class:"flex items-center space-x-4 text-sm"},Vt={class:"text-orange-400"},Rt={class:"text-purple-400"},Ht={class:"lg:col-span-1"},Xt={__name:"index",setup(C){const n=B(),a=D(),u=z(),g=h(()=>n.isLoggedIn),m=h(()=>a.player);h(()=>a.resources),h(()=>a.companions);const x=o=>{const e=a.getResourceByName(o);return e?Number(e.amount).toLocaleString():"0"},r=()=>{n.logout(),a.reset(),u.reset()},i=[{name:"Nhân vật",icon:"👤",active:!1,route:"/character"},{name:"Thiên Phú",icon:"⭐",active:!1,route:"/talent"},{name:"Tu Luyện",icon:"🧘",active:!1,route:"/cultivation"},{name:"Cửa Hàng",icon:"🏠",active:!1,route:"/shop"},{name:"Túi",icon:"🎒",active:!1,route:"/inventory"},{name:"Đạo Lô",icon:"🔥",active:!1,route:"/furnace"},{name:"Linh Thú",icon:"🐾",active:!1,route:"/spirit-beast"},{name:"Đạo Lữ",icon:"👥",active:!1,route:null},{name:"Pháp Bảo",icon:"⚔️",active:!1,route:null},{name:"Luyện Đan",icon:"⚗️",active:!1,route:null},{name:"Luyện Khí",icon:"🔨",active:!1,route:null},{name:"Trận pháp",icon:"🔮",active:!1,route:null},{name:"Xếp Hạng",icon:"🏆",active:!1,route:"/ranking"},{name:"Danh hiệu",icon:"👑",active:!1,route:null},{name:"Nhiệm Vụ",icon:"📋",active:!1,route:"/quest"},{name:"Nạp Thẻ",icon:"🏛️",active:!1,route:null}],b=o=>{o.route?A(o.route):console.log(`${o.name} chưa được phát triển`)};return k(async()=>{n.initializeAuth(),g.value&&n.user?.player&&(await a.initializePlayer(n.user.player.id),await u.fetchCharacterData(n.user.player.id))}),R(g,async o=>{o&&n.user?.player?(await a.initializePlayer(n.user.player.id),await u.fetchCharacterData(n.user.player.id)):u.reset()}),(o,e)=>{const L=S,y=w,j=O;return l(g)?(d(),c("div",Y,[t("header",Z,[t("div",I,[t("div",tt,[t("div",et,[t("div",st,[t("span",ot,s(l(m)?.name?.charAt(0)||"V"),1)]),t("div",null,[t("h2",nt,s(l(m)?.name||"Viễn Cổ Đại Năng"),1),t("p",at,"Cấp "+s(l(m)?.level||138)+" | Chuyển: "+s(l(m)?.realm||"Phàm cảnh"),1)])]),t("div",rt,[t("div",it,[e[0]||(e[0]=t("p",{class:"text-sm text-game-text-secondary"},"Tiên Ngọc",-1)),t("p",lt,s(x("tien_ngoc")),1)]),t("div",ct,[e[1]||(e[1]=t("p",{class:"text-sm text-game-text-secondary"},"Linh Thạch",-1)),t("p",dt,s(x("linh_thach")),1)]),t("div",ut,[e[2]||(e[2]=t("p",{class:"text-sm text-game-text-secondary"},"Nguyên Thạch",-1)),t("p",mt,s(x("nguyen_thach")),1)])]),t("div",{class:"flex items-center space-x-2"},[e[3]||(e[3]=t("button",{class:"game-button px-6 py-2 rounded-lg text-white font-semibold"}," Chí Tôn Tam Trọng ",-1)),t("button",{onClick:r,class:"px-4 py-2 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 hover:bg-red-500/30 transition-colors"}," Đăng xuất ")])])])]),t("nav",xt,[t("div",gt,[e[4]||(e[4]=t("div",{class:"flex space-x-1 mb-4"},[t("button",{class:"px-4 py-2 bg-game-light rounded-lg text-white font-medium"}," Mở hoạt động "),t("button",{class:"px-4 py-2 text-game-text-secondary hover:text-white transition-colors"}," Sự kiện: Dao Trì ")],-1)),t("div",pt,[(d(),c(T,null,N(i,p=>t("div",{key:p.name,onClick:At=>b(p),class:_(["flex flex-col items-center p-3 rounded-lg hover:bg-game-light/50 transition-colors cursor-pointer",{"bg-game-accent/20 border border-game-accent":p.active}])},[t("div",ft,[t("span",bt,s(p.icon),1)]),t("span",vt,s(p.name),1)],10,ht)),64))])])]),t("main",_t,[t("div",yt,[e[11]||(e[11]=H('<h1 class="text-4xl font-bold mb-4">Thiên Hạ Đệ Nhị Tông</h1><div class="flex items-center justify-center space-x-8 mb-8"><div class="text-center"><div class="w-20 h-20 rounded-full bg-gradient-to-br from-pink-400 to-purple-600 flex items-center justify-center mb-2 mx-auto"><span class="text-2xl">🌸</span></div><p class="text-sm">Thiên Hoa Tiên Cơ</p><span class="text-xs text-game-accent">+60</span></div><div class="text-center"><div class="w-32 h-32 rounded-full bg-gradient-to-br from-blue-400 to-purple-600 flex items-center justify-center mb-4 mx-auto"><div class="w-24 h-24 rounded-full bg-white/20 flex items-center justify-center"><span class="text-4xl">☯</span></div></div></div><div class="text-center"><div class="w-20 h-20 rounded-full bg-gradient-to-br from-blue-400 to-cyan-600 flex items-center justify-center mb-2 mx-auto"><span class="text-2xl">🐉</span></div><p class="text-sm">Ngân Long</p><span class="text-xs text-game-accent">+100</span></div></div><div class="max-w-2xl mx-auto mb-8"><p class="text-lg font-semibold text-orange-400 mb-2"> Chào mừng đến với Thiên Hạ Đệ Nhị Tông </p><p class="text-sm text-game-text-secondary italic"> &quot;Linh khí hội tụ, nguyên thần an định, thiên địa cảm ứng, đạo vận luân hồi.&quot; </p></div>',3)),t("div",wt,[t("div",kt,[f(y,{to:"/character",class:"game-card p-6 rounded-lg hover:bg-game-light/60 transition-all duration-300 cursor-pointer"},{default:v(()=>[t("div",Tt,[e[7]||(e[7]=t("div",{class:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-400 to-purple-600 flex items-center justify-center"},[t("span",{class:"text-2xl"},"👤")],-1)),t("div",Nt,[e[5]||(e[5]=t("h3",{class:"text-xl font-semibold text-white mb-2"},"Nhân Vật",-1)),e[6]||(e[6]=t("p",{class:"text-game-text-secondary mb-2"},"Quản lý thuộc tính, trang bị và kỹ năng",-1)),t("div",Ct,[t("span",Lt,"Combat Power: "+s(l(u).combatPower?.toLocaleString()||"0"),1),t("span",jt,"Level: "+s(l(m)?.level||1),1)])])])]),_:1}),f(y,{to:"/cultivation",class:"game-card p-6 rounded-lg hover:bg-game-light/60 transition-all duration-300 cursor-pointer"},{default:v(()=>[t("div",St,[e[10]||(e[10]=t("div",{class:"w-16 h-16 rounded-full bg-gradient-to-br from-green-400 to-blue-600 flex items-center justify-center"},[t("span",{class:"text-2xl"},"🧘")],-1)),t("div",$t,[e[8]||(e[8]=t("h3",{class:"text-xl font-semibold text-white mb-2"},"Tu Luyện",-1)),e[9]||(e[9]=t("p",{class:"text-game-text-secondary mb-2"},"Nâng cao cấp độ và cảnh giới",-1)),t("div",Pt,[t("span",Vt,"Realm: "+s(l(m)?.realm||"Phàm cảnh"),1),t("span",Rt,"Huyền Lực: "+s(x("huyen_luc")),1)])])])]),_:1}),t("div",Ht,[f(j)])])])])])])):(d(),c("div",U,[f(L)]))}}};export{Xt as default};
