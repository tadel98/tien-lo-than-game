{"version":3,"file":"ranking-LnoKc4JT.js","sources":["../../../../pages/ranking.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 text-white\">\r\n    <!-- Header -->\r\n    <div class=\"bg-black/20 backdrop-blur-sm border-b border-purple-500/30\">\r\n      <div class=\"container mx-auto px-4 py-6\">\r\n        <div class=\"flex items-center justify-between\">\r\n          <div class=\"flex items-center space-x-4\">\r\n            <h1 class=\"text-3xl font-bold bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent\">\r\n              üèÜ B·∫£ng X·∫øp H·∫°ng\r\n            </h1>\r\n            <div class=\"text-sm text-gray-400\">\r\n              C·∫≠p nh·∫≠t: {{ formatTime(lastUpdated) }}\r\n            </div>\r\n          </div>\r\n          <button \r\n            @click=\"refreshRanking\"\r\n            :disabled=\"loading\"\r\n            class=\"px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 rounded-lg transition-colors\"\r\n          >\r\n            {{ loading ? 'ƒêang t·∫£i...' : 'üîÑ L√†m m·ªõi' }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Filter Tabs -->\r\n    <div class=\"container mx-auto px-4 py-6\">\r\n      <div class=\"flex space-x-2 mb-8\">\r\n        <button\r\n          v-for=\"type in rankingTypes\"\r\n          :key=\"type.value\"\r\n          @click=\"changeRankingType(type.value)\"\r\n          :class=\"[\r\n            'px-6 py-3 rounded-lg font-medium transition-all duration-300',\r\n            currentType === type.value\r\n              ? 'bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg'\r\n              : 'bg-gray-800/50 text-gray-300 hover:bg-gray-700/50'\r\n          ]\"\r\n        >\r\n          {{ type.icon }} {{ type.label }}\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Ranking List -->\r\n      <div class=\"grid gap-6\">\r\n        <!-- Top 3 Podium -->\r\n        <div v-if=\"topPlayers.length >= 3\" class=\"flex justify-center items-end space-x-8 mb-8\">\r\n          <!-- 2nd Place -->\r\n          <div class=\"text-center\">\r\n            <div class=\"w-24 h-24 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center text-2xl font-bold mb-2\">\r\n              2\r\n            </div>\r\n            <div class=\"bg-gray-800/80 rounded-lg p-4 min-w-[200px]\">\r\n              <div class=\"text-lg font-bold text-gray-300\">{{ topPlayers[1]?.name }}</div>\r\n              <div class=\"text-sm text-gray-400\">C·∫•p {{ topPlayers[1]?.level }}</div>\r\n              <div class=\"text-yellow-400 font-bold\">{{ formatNumber(topPlayers[1]?.combatPower) }} SMCƒê</div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 1st Place -->\r\n          <div class=\"text-center\">\r\n            <div class=\"w-32 h-32 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-3xl font-bold mb-2 shadow-2xl\">\r\n              üëë\r\n            </div>\r\n            <div class=\"bg-gradient-to-r from-yellow-600/20 to-orange-600/20 rounded-lg p-6 min-w-[250px] border border-yellow-500/30\">\r\n              <div class=\"text-xl font-bold text-yellow-400\">{{ topPlayers[0]?.name }}</div>\r\n              <div class=\"text-sm text-yellow-300\">C·∫•p {{ topPlayers[0]?.level }} - {{ topPlayers[0]?.realm }}</div>\r\n              <div class=\"text-yellow-200 font-bold text-lg\">{{ formatNumber(topPlayers[0]?.combatPower) }} SMCƒê</div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 3rd Place -->\r\n          <div class=\"text-center\">\r\n            <div class=\"w-24 h-24 bg-gradient-to-br from-orange-600 to-red-600 rounded-full flex items-center justify-center text-2xl font-bold mb-2\">\r\n              3\r\n            </div>\r\n            <div class=\"bg-gray-800/80 rounded-lg p-4 min-w-[200px]\">\r\n              <div class=\"text-lg font-bold text-gray-300\">{{ topPlayers[2]?.name }}</div>\r\n              <div class=\"text-sm text-gray-400\">C·∫•p {{ topPlayers[2]?.level }}</div>\r\n              <div class=\"text-yellow-400 font-bold\">{{ formatNumber(topPlayers[2]?.combatPower) }} SMCƒê</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Ranking Table -->\r\n        <div class=\"bg-gray-900/50 backdrop-blur-sm rounded-xl border border-purple-500/20 overflow-hidden\">\r\n          <div class=\"overflow-x-auto\">\r\n            <table class=\"w-full\">\r\n              <thead class=\"bg-purple-900/30\">\r\n                <tr>\r\n                  <th class=\"px-6 py-4 text-left text-sm font-medium text-purple-300\">H·∫°ng</th>\r\n                  <th class=\"px-6 py-4 text-left text-sm font-medium text-purple-300\">T√™n</th>\r\n                  <th class=\"px-6 py-4 text-left text-sm font-medium text-purple-300\">C·∫•p</th>\r\n                  <th class=\"px-6 py-4 text-left text-sm font-medium text-purple-300\">C·∫£nh Gi·ªõi</th>\r\n                  <th class=\"px-6 py-4 text-left text-sm font-medium text-purple-300\">SMCƒê</th>\r\n                  <th class=\"px-6 py-4 text-left text-sm font-medium text-purple-300\">Kinh Nghi·ªám</th>\r\n                  <th class=\"px-6 py-4 text-left text-sm font-medium text-purple-300\">T√†i Nguy√™n</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"divide-y divide-gray-700/50\">\r\n                <tr \r\n                  v-for=\"(player, index) in topPlayers\" \r\n                  :key=\"player.id\"\r\n                  :class=\"[\r\n                    'hover:bg-gray-800/30 transition-colors',\r\n                    index < 3 ? 'bg-gradient-to-r from-purple-900/20 to-pink-900/20' : ''\r\n                  ]\"\r\n                >\r\n                  <td class=\"px-6 py-4\">\r\n                    <div class=\"flex items-center\">\r\n                      <span \r\n                        :class=\"[\r\n                          'text-lg font-bold',\r\n                          index === 0 ? 'text-yellow-400' : \r\n                          index === 1 ? 'text-gray-300' : \r\n                          index === 2 ? 'text-orange-400' : 'text-gray-400'\r\n                        ]\"\r\n                      >\r\n                        {{ getRankIcon(index + 1) }}\r\n                      </span>\r\n                    </div>\r\n                  </td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <div class=\"flex items-center space-x-3\">\r\n                      <div class=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-sm font-bold\">\r\n                        {{ player.name.charAt(0).toUpperCase() }}\r\n                      </div>\r\n                      <div>\r\n                        <div class=\"font-medium text-white\">{{ player.name }}</div>\r\n                        <div class=\"text-xs text-gray-400\">{{ player.equipmentCount }} trang b·ªã</div>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <div class=\"text-lg font-bold text-blue-400\">{{ player.level }}</div>\r\n                  </td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <div class=\"text-sm text-purple-300\">{{ player.realm }}</div>\r\n                  </td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <div class=\"text-lg font-bold text-yellow-400\">{{ formatNumber(player.combatPower) }}</div>\r\n                  </td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <div class=\"text-sm text-green-400\">{{ formatNumber(player.experience) }}</div>\r\n                  </td>\r\n                  <td class=\"px-6 py-4\">\r\n                    <div class=\"text-xs space-y-1\">\r\n                      <div class=\"text-yellow-300\">‚ö° {{ formatNumber(player.resources.huyenLuc) }}</div>\r\n                      <div class=\"text-blue-300\">üíé {{ formatNumber(player.resources.linhThach) }}</div>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Loading State -->\r\n        <div v-if=\"loading\" class=\"text-center py-12\">\r\n          <div class=\"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4\"></div>\r\n          <div class=\"text-gray-400\">ƒêang t·∫£i b·∫£ng x·∫øp h·∫°ng...</div>\r\n        </div>\r\n\r\n        <!-- Empty State -->\r\n        <div v-else-if=\"topPlayers.length === 0\" class=\"text-center py-12\">\r\n          <div class=\"text-6xl mb-4\">üèÜ</div>\r\n          <div class=\"text-xl text-gray-400 mb-2\">Ch∆∞a c√≥ d·ªØ li·ªáu x·∫øp h·∫°ng</div>\r\n          <div class=\"text-sm text-gray-500\">H√£y th·ª≠ l·∫°i sau ho·∫∑c ki·ªÉm tra k·∫øt n·ªëi</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useRankingStore } from '~/stores/ranking'\r\nimport { useAuthStore } from '~/stores/auth'\r\n\r\n// Stores\r\nconst rankingStore = useRankingStore()\r\nconst authStore = useAuthStore()\r\n\r\n// Reactive data\r\nconst rankingTypes = ref([\r\n  { value: 'level', label: 'C·∫•p ƒê·ªô', icon: 'üìà' },\r\n  { value: 'combat_power', label: 'S·ª©c M·∫°nh', icon: '‚öîÔ∏è' },\r\n  { value: 'experience', label: 'Kinh Nghi·ªám', icon: '‚≠ê' }\r\n])\r\n\r\n// Computed\r\nconst topPlayers = computed(() => rankingStore.topPlayers)\r\nconst currentType = computed(() => rankingStore.currentType)\r\nconst loading = computed(() => rankingStore.loading)\r\nconst lastUpdated = computed(() => rankingStore.lastUpdated)\r\n\r\n// Methods\r\nconst changeRankingType = async (type) => {\r\n  await rankingStore.fetchRanking(type, 20)\r\n}\r\n\r\nconst refreshRanking = async () => {\r\n  await rankingStore.refreshRanking()\r\n}\r\n\r\nconst getRankIcon = (rank) => {\r\n  if (rank === 1) return 'üëë'\r\n  if (rank === 2) return 'ü•à'\r\n  if (rank === 3) return 'ü•â'\r\n  return rank\r\n}\r\n\r\nconst formatNumber = (num) => {\r\n  if (!num) return '0'\r\n  return new Intl.NumberFormat('vi-VN').format(num)\r\n}\r\n\r\nconst formatTime = (time) => {\r\n  if (!time) return 'Ch∆∞a c·∫≠p nh·∫≠t'\r\n  return new Date(time).toLocaleString('vi-VN')\r\n}\r\n\r\n// Initialize\r\nonMounted(async () => {\r\n  authStore.initializeAuth()\r\n  await rankingStore.fetchRanking('level', 20)\r\n})\r\n</script>\r\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrInterpolate","_ssrRenderList"],"mappings":";;;;;;;;;;;;;;;;;;;AAoLA,UAAM,eAAe,gBAAe;AAClB,iBAAY;AAG9B,UAAM,eAAe,IAAI;AAAA,MACvB,EAAE,OAAO,SAAS,OAAO,UAAU,MAAM,KAAI;AAAA,MAC7C,EAAE,OAAO,gBAAgB,OAAO,YAAY,MAAM,KAAI;AAAA,MACtD,EAAE,OAAO,cAAc,OAAO,eAAe,MAAM,IAAG;AAAA,IACxD,CAAC;AAGD,UAAM,aAAa,SAAS,MAAM,aAAa,UAAU;AACzD,UAAM,cAAc,SAAS,MAAM,aAAa,WAAW;AAC3D,UAAM,UAAU,SAAS,MAAM,aAAa,OAAO;AACnD,UAAM,cAAc,SAAS,MAAM,aAAa,WAAW;AAW3D,UAAM,cAAc,CAAC,SAAS;AAC5B,UAAI,SAAS,EAAG,QAAO;AACvB,UAAI,SAAS,EAAG,QAAO;AACvB,UAAI,SAAS,EAAG,QAAO;AACvB,aAAO;AAAA,IACT;AAEA,UAAM,eAAe,CAAC,QAAQ;AAC5B,UAAI,CAAC,IAAK,QAAO;AACjB,aAAO,IAAI,KAAK,aAAa,OAAO,EAAE,OAAO,GAAG;AAAA,IAClD;AAEA,UAAM,aAAa,CAAC,SAAS;AAC3B,UAAI,CAAC,KAAM,QAAO;AAClB,aAAO,IAAI,KAAK,IAAI,EAAE,eAAe,OAAO;AAAA,IAC9C;;mBA3NOA,eAAAC,WAAA,EAAA,OAAM,qFAAoF,GAAA,MAAA,CAAA,+XAUtEC,eAAA,WAAW,YAAA,KAAW,CAAA,6CAK1B,QAAA,KAAO,IAAA,cAAA,0HAGf,QAAA,QAAO,gBAAA,YAAA;AAUGC,oBAAA,aAAA,QAAR,SAAI;;;UAGyF,YAAA,UAAgB,KAAK;eAOtHD,eAAA,KAAK,IAAI,KAAOA,eAAA,KAAK,KAAK;;;AAOpB,UAAA,WAAA,MAAW,UAAM,GAAA;4VAO0BA,eAAA,WAAA,UAAe,IAAI,iDACzBA,eAAA,WAAA,UAAe,KAAK,gEACpB,aAAa,WAAA,MAAU,CAAA,GAAK,WAAW,CAAA,gYAU/BA,eAAA,WAAA,UAAe,IAAI,mDACzBA,eAAA,WAAA,UAAe,KAAK,OAASA,eAAA,WAAA,UAAe,KAAK,wEAC3C,aAAa,WAAA,MAAU,CAAA,GAAK,WAAW,CAAA,6SAUzCA,eAAA,WAAA,UAAe,IAAI,iDACzBA,eAAA,WAAA,UAAe,KAAK,gEACpB,aAAa,WAAA,MAAU,CAAA,GAAK,WAAW,CAAA;;;;;oBAsBnD,WAAA,OAAU,CAA5B,QAAQ,UAAK;;;UAEyE,QAAK,IAAA,uDAAA;AAAA;;UAQR,UAAK,IAAA,oBAAyD,UAAK,IAAA,kBAAuD,UAAK,IAAA,oBAAA;AAAA,eAOjNA,eAAA,YAAY,QAAK,CAAA,CAAA,0NAOjBA,eAAA,OAAO,KAAK,UAAU,YAAW,CAAA,mDAGGA,eAAA,OAAO,IAAI,6CACZA,eAAA,OAAO,cAAc,uGAKfA,eAAA,OAAO,KAAK,0EAGpBA,eAAA,OAAO,KAAK,mGAGF,aAAa,OAAO,WAAW,CAAA,wFAG1C,aAAa,OAAO,UAAU,CAAA,mGAIjCA,eAAA,aAAa,OAAO,UAAU,QAAQ,CAAA,wCACvCA,eAAA,aAAa,OAAO,UAAU,SAAS,CAAA;;;UAU3E,QAAA,OAAO;;MAMF,WAAA,WAAA,MAAW,WAAM,GAAA;;;;;;;;;;;;;;;"}